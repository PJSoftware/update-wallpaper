# https://taskfile.dev

version: "3"

tasks:
  default:
    silent: true
    cmds:
      - task --list-all

  build:
    cmds:
      - go build -o bin/UpdateWallpaper.exe ./cmd/UpdateWallpaper

  run_wallpaper:
    internal: true
    dir: c:\Wallpaper
    cmds:
      - ./UpdateWallpaper.exe

  run:
    cmds:
      - task: build
      - mkdir -p /c/Wallpaper
      - cp ./bin/UpdateWallpaper.exe /c/Wallpaper
      - cp ./ini/UpdateWallpaper.ini /c/Wallpaper
      - task: run_wallpaper
